<div class="field-for {{config.fieldClasses}} {{strip-class-names classNames}}
  {{if errors.length 'error'}}
  {{if disabled 'disabled'}}
  {{if readonly 'readonly'}}
  {{_testingClass}} {{using}}-field">

  {{label-for
    label=label
    controlId=controlId
  }}

  {{#if _showValue}}
    <div {{action 'edit' on 'click'}} class="field-for-value-container" data-tooltip="{{value-tooltip}}">
      {{#if display-value}}
        {{display-value}}
      {{else}}
        <span class="field-for-placeholder">{{placeholder}}</span>
      {{/if}}

    </div>
  {{/if}}

  {{#if _showControl}}
    <div class="field-for-control-container {{if has-control-callout
                                                 config.fieldForControlCalloutClasses}} {{callout-position}}">

      <div class="field-for-control-and-commit-buttons">
        {{#if hasBlock}}
          {{yield (hash
                    control=(component _control
                      value=(readonly _value)
                      values=(readonly _values)
                      placeholder=placeholder
                      readonly=readonly
                      disabled=disabled
                      controlId=controlId

                      doSubmit=(action 'doSubmit')
                      doReset=(action 'doReset')
                      onChange=(action handleChange)
                    )
                    self=this
                  )

                  this
          }}
        {{else}}
          {{component _control
                      value=(readonly _value)
                      values=(readonly _values)
                      placeholder=placeholder
                      readonly=readonly
                      disabled=disabled
                      controlId=controlId

                      doSubmit=(action 'doSubmit')
                      doReset=(action 'doReset')
                      onChange=(action handleChange)
          }}

        {{/if}}

        {{commit-buttons
          visible=_showConfirm
          isActing=form.isSubmitting

          commit=(action commit)
          cancel=(action cancel)
        }}
      </div>

      {{errors-for errors=errors}}
    </div>

  {{/if}}

</div>



